<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Code Search</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            animation: gradientAnimation 10s ease infinite;
            background: linear-gradient(to top, #5ee7df 0%, #b490ca 100%);
        }
        .banner {
            position: absolute;
            top: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.01);
            color: white;
            text-align: center;
            padding: 15px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-size: 50px;
            font-weight: bold;
            font-style: italic;
            text-transform: uppercase;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.01);
        }

        .banner img {
            margin-right: 10px;
            height: 40px;
        }
        .form-container {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            backdrop-filter: blur(10px);
            width: 400px;
        }
        h2, h3 {
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            color: #333;
            animation: fadeInUp 0.5s ease forwards;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            
            border: 1px solid #ffffff;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 16px;
        }
        button {
    padding: 12px 24px;
    background-color: #0A84FF;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 16px;
    text-transform: uppercase;
    transition: background-color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

button:hover {
   
    transform: translateY(-5px);
}

        #loanInfo {
            margin-top: 20px;
            display: none;
        }
        select, label {
            margin: 10px;
            font-size: 16px;
            text-transform: uppercase;
        }
        .dropdown-options {
            display: none;
            margin-top: 30px;
        }
        .message-button {
            margin-top: 20px;
            background-color: #34d399;
            cursor: pointer;
            font-size: 16px;
            text-transform: uppercase;
            transition: background-color 0.3s ease;
        }
        .message-button:hover {
            background-color: #059669;
        }
        
        .form-container {
            position: relative; /* So that the info button is positioned relative to this container */
        }
        @keyframes fadeInUp {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
}
        /* Info button styles */
        .info-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(240, 238, 238, 0.01);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.01);
            color: rgb(0, 0, 0);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        /* Popup overlay styles */
        .popup-overlay {
            display: none; /* Initially hidden */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.89);
            backdrop-filter: blur(5px);
            z-index: 999; /* To be on top of all other content */
            justify-content: center;
            align-items: center;
        }

        .popup-box {
            background-color: rgb(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
            max-width: 800px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .popup-box h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .popup-box p {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .popup-box button {
            background-color: #045fe7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .popup-box button:hover {
            background-color: #f01111;
        }
       
        /* Same CSS as before */
    </style>
</head>
<body>
        <div class="banner">
       <!-- Replace 'your-logo-url.png' with the actual logo URL -->
    <B><I>THE FIRST ORDER</I></B></div>
    
    <div class="form-container">
        <button class="info-button" onclick="togglePopup()"><b>?</b></button> <!-- Info button -->
        <h2>Enter Loan Code</h2>
        <input type="text" id="loanCode" placeholder="Enter loan code..." list="loanCodeSuggestions"/>
        <datalist id="loanCodeSuggestions">
            <option value="74">
            <option value="228">
            <option value="186">
            <option value="187">
            <option value="217">
            <option value="224">
            <option value="234">
            <option value="221">
            <option value="222">
            <option value="230">
            <option value="223">
            <option value="237">
            <option value="240">
            <option value="239">
            <option value="238">
            <!-- Add other loan codes as options here -->
        </datalist>
        <button onclick="searchLoan()">Search</button>
        
        <div id="loanInfo">
            <h3>Loan Details:</h3>
            <p><strong>Loan Code:</strong> <span id="loanCodeResult"></span></p>
            <p><strong>Loan Type:</strong> <span id="loanTypeResult"></span></p>
            <p><strong>Name:</strong> <span id="nameResult"></span></p>
            <p><strong>Due Date:</strong> <span id="dueDateResult"></span></p>
            <p><strong>Amount:</strong> <span id="amountResult"></span></p>
            <p><strong>Expected Interest:</strong> <span id="interestResult"></span></p>

            <label>Loan Term:</label>
            <select id="loanTerm" onchange="updateInterest()">
                <option value="">Select Loan Term</option>
                <option value="HD">HALF DAY (HD) ≤ ½ DAY </option>
                <option value="NM">NOTICE MONEY (NM) >½ DAY</option>
                <option value="CM-L">CASH MANAGEMENT LOANS (CM-L) <8 DAYS </option>
                <option value="TL">TREASURY LOANS (TL) <16 DAYS - >7 DAYS</option>
                <option value="TM">TERM MONEY (TM) <30 DAYS - >15 DAYS</option>
                <option value="OML">ONE MONTH LOAN (OML) 30 DAYS</option>
                <option value="QD">QUARTERLY DEBT (QD) <91 DAYS - >30 DAYS</option>
                <option value="HY-D">HALF YEARLY DEBT (HY-D) <181 DAYS - >90 DAYS</option>
                <option value="OY-D">YEARLY DEBT (OY-D) <366 DAYS - >180 DAYS</option>
            </select>

            <div id="dynamicDropdown" class="dropdown-options">
                <label>Options:</label>
                <select id="additionalOptions"></select>
            </div>

            <p><strong>New Interest Rate:</strong> <span id="newInterest"></span></p>

            <button class="message-button" onclick="sendMessage()">Revise Loan</button>
        </div>
    </div>
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-box">
            <h2>Executive Order</h2>
            <p><strong>Loan revisioning and restructuring scheme</strong> </p>
            <p>Pursuant to the powers vested in me under Article 21 and Article 23 of the First Order Constitution, I, in my capacity as the President, do hereby promulgate this executive order to establish a comprehensive framework for the restructuring of impending loans within our jurisdiction. Henceforth, individuals facing imminent loan maturities may, upon submission of a restructuring proposal no later than five days preceding the scheduled maturity, seek an extension of the maturity period. However, the acceptance of such proposals shall be solely at the discretion of the President, contingent upon prevailing economic exigencies and the financial soundness of the First Order. In furtherance of our commitment to fiscal prudence and developmental imperatives, a supplementary development cess, equivalent to ten percent of the accrued interest, shall be imposed on all transactions pertaining to loan restructuring under this scheme. Furthermore, it is mandated that during the extended period, interest and/or service charges, as applicable, shall continue to accrue in accordance with the original terms of the loan agreement. Additionally, any loan restructuring where the service charge is currently zero shall not be eligible for restructuring unless the proposed extended maturity period exceeds 29 days. This executive order shall take immediate effect upon its promulgation and shall be enforceable as of the 5th day of May,</p>
            <p><strong>Signed,</strong></p>
            
            <button onclick="togglePopup()">Close</button>
        </div>
    </div>
</div>
    <table id="loanTable" style="display: none;">
      
                <thead><tr>
                    <th>Loan Code</th>
                    <th>Loan Type</th>
                    <th>Name</th>
                    <th>Due Date</th>
                    <th>Amount</th>
                    <th>Expected Interest</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sample data; add new rows here as needed -->
              <tr>
                    <td>463</td>
                    <td>QD3 347</td>
                    <td>Krish Goswami</td>
                    <td>09/07/2025</td>
                    <td>347</td>
                    <td>10</td>
                </tr>
                
                <tr>
                    <td>462</td>
                    <td>QD3 1599</td>
                    <td>Rahul Goswami</td>
                    <td>09/07/2025</td>
                    <td>1599</td>
                    <td>48</td>
                </tr>
          
              
             
             
               
               
              
                 <tr>
                    <td>464</td>
                    <td>OML 200</td>
                    <td>Deepak Goswami</td>
                    <td>04/06/2025</td>
                    <td>200</td>
                    <td>14</td>
                </tr>
              

                <!-- Add more rows as needed -->
            </tbody>
            <tfoot>
                
            </tfoot>
            <!-- The rest of your table content remains the same -->
            <!-- Table content remains unchanged -->
        
        <!-- Your loan table data -->
    </table>
    
    <script>
        // Same JavaScript logic as before for loan search and interest calculation
function searchLoan() {
    let loanCode = document.getElementById('loanCode').value;
    let table = document.getElementById('loanTable');
    let rows = table.getElementsByTagName('tr');
    let found = false;

    // Clear previous results
    document.getElementById('loanCodeResult').innerText = '';
    document.getElementById('loanTypeResult').innerText = '';
    document.getElementById('nameResult').innerText = '';
    document.getElementById('dueDateResult').innerText = '';
    document.getElementById('amountResult').innerText = '';
    document.getElementById('interestResult').innerText = '';
    document.getElementById('newInterest').innerText = '';

    // Hide dropdown and reset selection
    document.getElementById('dynamicDropdown').style.display = 'none';
    document.getElementById('additionalOptions').innerHTML = '<option value="" disabled selected>Select tenure</option>';
    document.getElementById('loanTerm').selectedIndex = 0;

    for (let i = 1; i < rows.length; i++) {
        let cells = rows[i].getElementsByTagName('td');
        if (cells[0].innerText === loanCode) {
            if (loanCode === '238') {
                alert('This loan cannot be revised in accordance with Presidential order. Try revising manually.');
                return;
            }
            document.getElementById('loanCodeResult').innerText = cells[0].innerText;
            document.getElementById('loanTypeResult').innerText = cells[1].innerText;
            document.getElementById('nameResult').innerText = cells[2].innerText;
            document.getElementById('dueDateResult').innerText = cells[3].innerText;
            document.getElementById('amountResult').innerText = cells[4].innerText;
            document.getElementById('interestResult').innerText = cells[5].innerText;
            document.getElementById('loanInfo').style.display = 'block';
            found = true;
            break;
        }
    }

    if (!found) {
        alert('Loan Code not found!');
    }
}

function updateInterest() {
    let loanTerm = document.getElementById('loanTerm').value;
    let amount = parseFloat(document.getElementById('amountResult').innerText);
    let interest = parseFloat(document.getElementById('interestResult').innerText);
    let principal = amount;
    let total = amount + interest;
    let newInterest = 0;

    document.getElementById('dynamicDropdown').style.display = 'none';

    if (loanTerm === 'OML') {
        newInterest = Math.round(principal * 0.015 + interest + 0.10 * (principal * 0.015 + interest));
    } else if (loanTerm === 'QD') {
        document.getElementById('dynamicDropdown').style.display = 'block';
        let options = `<option value="" disabled selected>Select tenure</option><option value="2">2</option><option value="3">3</option>`;
        document.getElementById('additionalOptions').innerHTML = options;
        document.getElementById('additionalOptions').onchange = function () {
            let multiplier = parseFloat(this.value);
            newInterest = Math.round(principal * 0.015 * multiplier + interest + 0.10 * (principal * 0.015 * multiplier + interest));
            document.getElementById('newInterest').innerText = newInterest.toFixed(2);
        };
    } else if (loanTerm === 'HY-D') {
        document.getElementById('dynamicDropdown').style.display = 'block';
        let options = `<option value="" disabled selected>Select tenure</option><option value="4">4</option><option value="5">5</option><option value="6">6</option>`;
        document.getElementById('additionalOptions').innerHTML = options;
        document.getElementById('additionalOptions').onchange = function () {
            let multiplier = parseFloat(this.value);
            newInterest = Math.round(principal * 0.015 * multiplier + interest + 0.10 * (principal * 0.015 * multiplier + interest));
            document.getElementById('newInterest').innerText = newInterest.toFixed(2);
        };
    } else if (loanTerm === 'OY-D') {
        document.getElementById('dynamicDropdown').style.display = 'block';
        let options = `<option value="" disabled selected>Select tenure</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option>`;
        document.getElementById('additionalOptions').innerHTML = options;
        document.getElementById('additionalOptions').onchange = function () {
            let multiplier = parseFloat(this.value);
            newInterest = Math.round(principal * 0.015 * multiplier + interest + 0.10 * (principal * 0.015 * multiplier + interest));
            document.getElementById('newInterest').innerText = newInterest.toFixed(2);
        };
    } else {
        newInterest = Math.round(interest * 0.10 + interest);
    }

    document.getElementById('newInterest').innerText = newInterest.toFixed(2);
}

function sendMessage() {
    let loanCode = document.getElementById('loanCodeResult').innerText;
    let amount = document.getElementById('amountResult').innerText;
    let newInterest = document.getElementById('newInterest').innerText;
    let selectedLoanTerm = document.getElementById('loanTerm').value;
    let selectedAdditionalOption = document.getElementById('additionalOptions').value || "not selected";

    // Updated message to include the selected loan term and additional options
    let message = `Hello there! I want to revise my loan of amount ${amount} with loan code ${loanCode} at a new interest rate of ${newInterest} for the selected option ${selectedLoanTerm} ${selectedAdditionalOption}.`;

    let phoneNumber = "7456943225";  // Change phone number if necessary
    let whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

    // Open WhatsApp with the pre-filled message
    window.open(whatsappURL, '_blank');
}

// JavaScript to toggle the popup visibility
function togglePopup() {
    var popup = document.getElementById('popupOverlay');
    if (popup.style.display === 'flex') {
        popup.style.display = 'none';
    } else {
        popup.style.display = 'flex';
    }
}

    </script>
</body>
</html>

